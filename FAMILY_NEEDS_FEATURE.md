# ููุฒุฉ ุฅุฏุงุฑุฉ ุงุญุชูุงุฌุงุช ุงูุนุงุฆูุงุช

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ูุธุงู ูุงูู ูุฅุฏุงุฑุฉ ุงุญุชูุงุฌุงุช ูู ุนุงุฆูุฉ ุจุดูู ูููุตูุ ูุน ุชุชุจุน ุงููุจุงูุบ ุงูุชูุฏูุฑูุฉ ูุงููุณุชุฎุฏููู ุงูุฐูู ุฃุถุงููุง ุฃู ุนุฏูููุง ุงูุงุญุชูุงุฌุงุช.

## ๐ฏ ุงูููุฒุงุช

### 1. **ุฌุฏูู ูุณูุท (FamilyNeeds)**
- ุฑุจุท ุงูุนุงุฆูุงุช ุจุงูุงุญุชูุงุฌุงุช (Many-to-Many)
- ุชุฎุฒูู ุงููุจูุบ ุงูุชูุฏูุฑู ููู ุงุญุชูุงุฌ
- ุชุชุจุน ุงูุญุงูุฉ (ูุนููุ ุชู ุงูุชูููุฐุ ููุบู)
- ููุงุญุธุงุช ุฅุถุงููุฉ

### 2. **ุชุชุจุน ุงููุณุชุฎุฏููู**
- `created_by_user_id` - ุงููุณุชุฎุฏู ุงูุฐู ุฃุถุงู ุงูุงุญุชูุงุฌ
- `updated_by_user_id` - ุงููุณุชุฎุฏู ุงูุฐู ุนุฏูู ุงูุงุญุชูุงุฌ
- `created_at` - ููุช ุงูุฅูุดุงุก
- `updated_at` - ููุช ุขุฎุฑ ุชุนุฏูู

### 3. **ุงูุญุงูุงุช ุงููุชุงุญุฉ**
- `pending` - ูุนูู (ุงูุงูุชุฑุงุถู)
- `fulfilled` - ุชู ุงูุชูููุฐ
- `cancelled` - ููุบู

## ๐ง ุงูุชูููุฐ ุงูุชููู

### Backend (FastAPI)

#### ูููุฐุฌ ุงูุจูุงูุงุช
```python
class FamilyNeed(BaseModel):
    id: str
    family_id: str
    need_id: str
    estimated_amount: float
    notes: Optional[str]
    status: str  # pending, fulfilled, cancelled
    created_by_user_id: Optional[str]
    updated_by_user_id: Optional[str]
    created_at: datetime
    updated_at: Optional[datetime]
```

#### API Endpoints

1. **GET `/api/families/{family_id}/needs`**
   - ุงูุญุตูู ุนูู ุฌููุน ุงุญุชูุงุฌุงุช ุนุงุฆูุฉ
   - ููุฑุฌุน ุจูุงูุงุช ุงูุงุญุชูุงุฌ ุงููุงููุฉ ูุงููุณุชุฎุฏููู

2. **POST `/api/families/{family_id}/needs`**
   - ุฅุถุงูุฉ ุงุญุชูุงุฌ ุฌุฏูุฏ ููุนุงุฆูุฉ
   - ุงูุชุญูู ูู ุนุฏู ุงูุชูุฑุงุฑ

3. **PUT `/api/families/{family_id}/needs/{need_record_id}`**
   - ุชุญุฏูุซ ุงุญุชูุงุฌ ููุฌูุฏ
   - ุชุญุฏูุซ ุงููุณุชุฎุฏู ูุงูููุช ุชููุงุฆูุงู

4. **DELETE `/api/families/{family_id}/needs/{need_record_id}`**
   - ุญุฐู ุงุญุชูุงุฌ ูู ุงูุนุงุฆูุฉ

### Frontend (React)

#### ุงููููู ุงูุฑุฆูุณู: `FamilyNeedsManager.js`

**ุงููุณุงุฑ:** `/app/frontend/src/components/admin/FamilyNeedsManager.js`

**ุงูููุฒุงุช:**
- ูุงุฌูุฉ ุญูุงุฑูุฉ ูุงููุฉ ูุฅุฏุงุฑุฉ ุงูุงุญุชูุงุฌุงุช
- ุฌุฏูู ุนุฑุถ ุงูุงุญุชูุงุฌุงุช ูุน ุฌููุน ุงูุชูุงุตูู
- ูููุฐุฌ ุฅุถุงูุฉ/ุชุนุฏูู ุงูุงุญุชูุงุฌุงุช
- ุนุฑุถ ุจูุงูุงุช ุงููุณุชุฎุฏููู ูุงูุชูุงุฑูุฎ
- ููุน ุชูุฑุงุฑ ุงูุงุญุชูุงุฌุงุช

**ุงูุชูุงูู:**
- ุฒุฑ "ุฅุฏุงุฑุฉ ุงูุงุญุชูุงุฌุงุช" ูู ุตูุญุฉ ุชูุงุตูู ุงูุนุงุฆูุฉ
- ููุชุญ ุญูุงุฑ ูุงูู ูุฅุฏุงุฑุฉ ุงุญุชูุงุฌุงุช ุงูุนุงุฆูุฉ ุงููุญุฏุฏุฉ

## ๐ ุงููููุงุช ุงููุนุฏููุฉ ูุงูุฌุฏูุฏุฉ

### Backend
- โ `/app/backend/server.py` - ุฅุถุงูุฉ ุงููููุฐุฌ ูุงูู API endpoints

### Frontend
- โ `/app/frontend/src/components/admin/FamilyNeedsManager.js` - **ุฌุฏูุฏ**
- โ `/app/frontend/src/pages/AdminDashboard.js` - ุฅุถุงูุฉ ุงูุชูุงูู

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ุตูุญุฉ ุชูุงุตูู ุงูุนุงุฆูุฉ
- ุฒุฑ "ุฅุฏุงุฑุฉ ุงูุงุญุชูุงุฌุงุช" ุจุฌุงูุจ ุฒุฑ "ุฑุฌูุน ุฅูู ุงููุงุฆูุฉ"
- ููุชุญ ุญูุงุฑ ูุงูู ูุฅุฏุงุฑุฉ ุงูุงุญุชูุงุฌุงุช

### ุญูุงุฑ ุฅุฏุงุฑุฉ ุงูุงุญุชูุงุฌุงุช
1. **ุงูุนุฑุถ ุงูุฑุฆูุณู:**
   - ุนุฏุงุฏ ุงูุงุญุชูุงุฌุงุช
   - ุฒุฑ "ุฅุถุงูุฉ ุงุญุชูุงุฌ"
   - ุฌุฏูู ุงูุงุญุชูุงุฌุงุช ูุน:
     * ุงุณู ุงูุงุญุชูุงุฌ
     * ุงููุจูุบ ุงูุชูุฏูุฑู (ูุน ุฃููููุฉ)
     * ุงูุญุงูุฉ (ุจุดุงุฑุงุช ููููุฉ)
     * ุงููุณุชุฎุฏู ุงูุฐู ุฃุถุงู
     * ุชุงุฑูุฎ ุงูุฅูุดุงุก
     * ุฃุฒุฑุงุฑ ุงูุชุนุฏูู ูุงูุญุฐู

2. **ูููุฐุฌ ุงูุฅุถุงูุฉ/ุงูุชุนุฏูู:**
   - ุงุฎุชูุงุฑ ุงูุงุญุชูุงุฌ (React Select)
   - ุงููุจูุบ ุงูุชูุฏูุฑู (ุฑูู)
   - ุงูุญุงูุฉ (ูุงุฆูุฉ ููุณุฏูุฉ)
   - ููุงุญุธุงุช (ูุต ุทููู)

## ๐ ุงูุฃูุงู

- โ ุฌููุน ุงูู endpoints ูุญููุฉ ุจู JWT authentication
- โ ุชุณุฌูู ุงููุณุชุฎุฏู ูู ูู ุนูููุฉ ุฅุถุงูุฉ/ุชุนุฏูู
- โ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- โ ููุน ุชูุฑุงุฑ ุงูุงุญุชูุงุฌุงุช

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### Collection: `family_needs`

```javascript
{
  "id": "uuid",
  "family_id": "string",
  "need_id": "string",
  "estimated_amount": 0.0,
  "notes": "string",
  "status": "pending|fulfilled|cancelled",
  "created_by_user_id": "string",
  "updated_by_user_id": "string",
  "created_at": "ISODate",
  "updated_at": "ISODate"
}
```

### Indexes ุงูููุชุฑุญุฉ
```javascript
// ููุฃุฏุงุก ุงูุฃูุซู
db.family_needs.createIndex({ "family_id": 1 })
db.family_needs.createIndex({ "need_id": 1 })
db.family_needs.createIndex({ "family_id": 1, "need_id": 1 }, { unique: true })
```

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ Backend
```bash
# 1. ุชุณุฌูู ุงูุฏุฎูู
TOKEN=$(curl -s -X POST "$API_URL/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@example.com","password":"admin"}' \
  | python3 -c "import sys,json;print(json.load(sys.stdin)['access_token'])")

# 2. ุงูุญุตูู ุนูู ุงุญุชูุงุฌุงุช ุนุงุฆูุฉ
curl -X GET "$API_URL/families/{family_id}/needs" \
  -H "Authorization: Bearer $TOKEN"

# 3. ุฅุถุงูุฉ ุงุญุชูุงุฌ
curl -X POST "$API_URL/families/{family_id}/needs" \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"need_id":"...","estimated_amount":1000,"status":"pending"}'
```

### ุงุฎุชุจุงุฑ Frontend
1. ุชุณุฌูู ุงูุฏุฎูู ูู Admin
2. ุงูุงูุชูุงู ุฅูู "ุงูุนุงุฆูุงุช"
3. ูุชุญ ุชูุงุตูู ุฃู ุนุงุฆูุฉ
4. ุงูููุฑ ุนูู "ุฅุฏุงุฑุฉ ุงูุงุญุชูุงุฌุงุช"
5. ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุงูุงุญุชูุงุฌุงุช

## โ ุญุงูุฉ ุงูุชุทุจูู

- โ Backend ูุนูู ุจุฏูู ุฃุฎุทุงุก
- โ Frontend ูุจูู ุจูุฌุงุญ
- โ ุงูุชูุงูู ุงููุงูู ุจูู Frontend ู Backend
- โ ุฌููุน ุงูููุฒุงุช ุชุนูู

## ๐ ููุงุญุธุงุช ุฅุถุงููุฉ

1. **ููุน ุงูุชูุฑุงุฑ:** ูุง ูููู ุฅุถุงูุฉ ููุณ ุงูุงุญุชูุงุฌ ูุฑุชูู ูููุณ ุงูุนุงุฆูุฉ
2. **ุงูุชุตููุฉ ุงูุฐููุฉ:** ูู ูุถุน ุงูุฅุถุงูุฉุ ุชูุฎูู ุงูุงุญุชูุงุฌุงุช ุงููุถุงูุฉ ุจุงููุนู
3. **ุนุฑุถ ุงูุจูุงูุงุช:** ูุชู ุนุฑุถ ุงุณู ุงููุณุชุฎุฏู ุจุฏูุงู ูู ุงูู ID
4. **ุงูุชูุณูู:** ุงููุจุงูุบ ููุณูุฉ ุจุงูููุงุตู ุงูุนุฑุจูุฉ
5. **ุงูุญุงูุฉ:** ุดุงุฑุงุช ููููุฉ ููู ุญุงูุฉ (ุฃุตูุฑ ูููุนููุ ุฃุฎุถุฑ ูููููุฐุ ุฃุญูุฑ ููููุบู)

## ๐ ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ (ุงุฎุชูุงุฑูุฉ)

- [ ] ุฅุถุงูุฉ ุชูุฑูุฑ ุฅุฌูุงูู ูุงุญุชูุงุฌุงุช ุงูุนุงุฆูุฉ
- [ ] ุชุตุฏูุฑ ุงุญุชูุงุฌุงุช ุงูุนุงุฆูุงุช ุฅูู Excel
- [ ] ุฅุดุนุงุฑุงุช ุนูุฏ ุชุบููุฑ ุญุงูุฉ ุงูุงุญุชูุงุฌ
- [ ] ุณุฌู ุชุงุฑูุฎู ููุชุนุฏููุงุช
- [ ] ุฑุณู ุจูุงูู ูุชูุฒูุน ุงูุงุญุชูุงุฌุงุช
